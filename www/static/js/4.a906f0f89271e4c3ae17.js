webpackJsonp([4],{"7+tz":function(t,e){},JA8P:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Dd8w"),i=r.n(a),o=r("NYxO"),s=r("vLgD"),n=r("wliq"),l={props:[],components:{},data:function(){return{}},computed:i()({},Object(o.c)({tableData:"menuList",userList:"userList",total:"total",size:"size"})),methods:i()({},Object(o.b)({getMenuList:"getMenuList",getuserList:"getuserList",reqTotal1:"reqTotal1",reqchangepage:"reqchangepage"}),{edit:function(t){this.$emit("update",t)},del:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.S)(t).then(function(t){200==t.data.code?(Object(n.a)(t.data.msg),e.getuserList(),e.reqTotal1()):Object(n.b)(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},CurrentChange:function(t){this.reqchangepage(t)}}),mounted:function(){this.getMenuList(),0==this.userList.length&&this.getuserList(),this.reqTotal1()}},c={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.userList,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[r("el-table-column",{attrs:{prop:"id",label:"用户编号",sortable:"",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"username",label:"用户名",sortable:"",width:"180"}}),t._v(" "),r("el-table-column",{attrs:{prop:"rolename",label:"所属角色"}}),t._v(" "),r("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?r("el-button",{attrs:{type:"primary"}},[t._v("启用")]):t._e(),t._v(" "),2==e.row.status?r("el-button",{attrs:{type:"primary"}},[t._v("禁用")]):t._e()]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"icon",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return t.edit(e.row.uid)}}},[t._v("修改")]),t._v(" "),r("el-button",{attrs:{type:"danger"},on:{click:function(r){return t.del(e.row.uid)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.size},on:{"current-change":t.CurrentChange}})],1)},staticRenderFns:[]};var u=r("VU/8")(l,c,!1,function(t){r("VchX")},"data-v-c07ecfe8",null).exports,d={props:["update"],components:{},data:function(){return{dialogFormVisible:!1,form:{roleid:6,username:"",password:"",status:0},formLabelWidth:"120px"}},computed:i()({},Object(o.c)({roleList:"roleList"})),methods:i()({},Object(o.b)({getRoleList:"getRoleList",getuserList:"getuserList",reqTotal1:"reqTotal1"}),{cancle:function(){this.dialogFormVisible=!1,this.clearForm()},clearForm:function(){this.form={roleid:6,username:"",password:"",status:0}},adduserList:function(){var t=this;this.dialogFormVisible=!1,Object(s.q)(this.form).then(function(e){t.getuserList(),t.clearForm(),t.reqTotal1()})},getuserDetail:function(t){var e=this;Object(s.T)(t).then(function(r){e.form=r.data.list,e.form.uid=t})},updateuser:function(){var t=this;Object(s.R)(this.form).then(function(e){200==e.data.code?(Object(n.a)(e.data.msg),t.dialogFormVisible=!1,t.clearForm(),t.getuserList()):Object(n.b)(e.data.msg)})}}),mounted:function(t){0==this.roleList.length&&this.getRoleList()}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-dialog",{attrs:{title:1==t.update?"菜单添加":"菜单修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{attrs:{model:t.form}},[r("el-form-item",{attrs:{label:"所属角色","label-width":t.formLabelWidth}},[r("el-select",{model:{value:t.form.roleid,callback:function(e){t.$set(t.form,"roleid",e)},expression:"form.roleid"}},t._l(t.roleList,function(t,e){return r("el-option",{key:e,attrs:{label:t.rolename,value:t.id}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"用户名","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"状态"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancle}},[t._v("取 消")]),t._v(" "),t.update?r("el-button",{attrs:{type:"primary"},on:{click:t.adduserList}},[t._v("添加")]):r("el-button",{attrs:{type:"primary"},on:{click:t.updateuser}},[t._v("修改")])],1)],1)],1)},staticRenderFns:[]};var m={props:[],components:{vList:u,vAdd:r("VU/8")(d,f,!1,function(t){r("OVEr")},"data-v-d8fd7b0e",null).exports},data:function(){return{isadd:!1}},computed:i()({},Object(o.c)({})),methods:i()({},Object(o.b)({}),{isShow:function(){this.isadd=!0,this.$refs.vchild.dialogFormVisible=!0},update:function(t){this.isadd=!1,this.$refs.vchild.dialogFormVisible=!0,this.$refs.vchild.getuserDetail(t)}}),mounted:function(){}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:this.isShow}},[this._v("添加")]),this._v(" "),e("v-list",{on:{update:this.update}}),this._v(" "),e("v-add",{ref:"vchild",attrs:{update:this.isadd}})],1)},staticRenderFns:[]};var h=r("VU/8")(m,p,!1,function(t){r("7+tz")},"data-v-7959c79a",null);e.default=h.exports},OVEr:function(t,e){},VchX:function(t,e){}});
//# sourceMappingURL=4.a906f0f89271e4c3ae17.js.map