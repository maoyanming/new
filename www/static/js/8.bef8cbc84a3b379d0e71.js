webpackJsonp([8],{Awgr:function(t,e){},"UdP/":function(t,e){},ZUKQ:function(t,e){},gFps:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),r=s.n(a),i=s("NYxO"),o=s("vLgD"),n=s("wliq"),l={props:[],components:{},data:function(){return{}},computed:r()({},Object(i.c)({specsList:"specsList",specstotal:"specstotal",specssize:"specssize"})),methods:r()({},Object(i.b)({specsTotal1:"specsTotal1",reqchangespecspage:"reqchangespecspage",getspecsList:"getspecsList"}),{edit:function(t){this.$emit("update",t)},del:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.L)(t).then(function(t){200==t.data.code?(Object(n.a)(t.data.msg),e.specsTotal1(),e.getspecsList()):Object(n.b)(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},CurrentChange:function(t){this.reqchangespecspage(t)}}),mounted:function(){this.getspecsList()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.specsList,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{prop:"id",label:"规格编号",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"specsname",label:"规格名称",sortable:"",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"attrs",label:"规格属性"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(JSON.parse(e.row.attrs),function(e,a){return s("el-tag",{key:a},[t._v(t._s(e))])})}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?s("el-button",{attrs:{type:"primary"}},[t._v("启用")]):t._e(),t._v(" "),2==e.row.status?s("el-button",{attrs:{type:"primary"}},[t._v("禁用")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"icon",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.edit(e.row.id)}}},[t._v("修改")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.specstotal,"page-size":t.specssize},on:{"current-change":t.CurrentChange}})],1)},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(t){s("ZUKQ")},"data-v-671d7896",null).exports,d=s("mvHQ"),p=s.n(d),f={props:["update"],components:{},data:function(){return{arr:[{value:""}],dialogFormVisible:!1,form:{specsname:"",attrs:"",status:0},formLabelWidth:"120px"}},computed:r()({},Object(i.c)({roleList:"roleList"})),methods:r()({},Object(i.b)({getspecsList:"getspecsList",getuserList:"getuserList",specsTotal1:"specsTotal1"}),{add:function(){this.arr.push({value:""})},del:function(t){this.arr.splice(t,1)},close:function(){this.dialogFormVisible=!1,this.clearForm(),this.arr=[{value:""}]},cancle:function(){this.dialogFormVisible=!1,this.clearForm(),this.arr=[{value:""}]},clearForm:function(){this.form={specsname:"",attrs:"",status:0}},adduserList:function(){var t=this;this.dialogFormVisible=!1,this.form.attrs=p()(this.arr.map(function(t){return t.value})),Object(o.K)(this.form).then(function(e){t.getspecsList(),t.clearForm(),t.arr=[{value:""}],t.specsTotal1()})},getspecsDetail:function(t){var e=this;Object(o.N)(t).then(function(s){e.form=s.data.list[0],e.form.id=t,e.arr=JSON.parse(e.form.attrs).map(function(t){return{value:t}})})},updateuser:function(){var t=this;Object(o.M)(this.form).then(function(e){200==e.data.code?(Object(n.a)(e.data.msg),t.dialogFormVisible=!1,t.clearForm(),t.arr=[{value:""}],t.getspcesList()):Object(n.b)(e.data.msg)})}}),mounted:function(){this.specsTotal1()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:1==t.update?"菜单添加":"菜单修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.close}},[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{attrs:{label:"规格名称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.specsname,callback:function(e){t.$set(t.form,"specsname",e)},expression:"form.specsname"}})],1),t._v(" "),t._l(t.arr,function(e,a){return s("el-form-item",{key:a,attrs:{label:"规格属性","label-width":t.formLabelWidth}},[s("div",{staticClass:"box1"},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"item.value"}}),t._v(" "),0==a?s("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增规格属性")]):s("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.del(a)}}},[t._v("删除")])],1)])}),t._v(" "),s("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],2),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancle}},[t._v("取 消")]),t._v(" "),t.update?s("el-button",{attrs:{type:"primary"},on:{click:t.adduserList}},[t._v("添加")]):s("el-button",{attrs:{type:"primary"},on:{click:t.updateuser}},[t._v("修改")])],1)],1)],1)},staticRenderFns:[]};var v={props:[],components:{vList:u,vAdd:s("VU/8")(f,m,!1,function(t){s("Awgr")},"data-v-0e0ae078",null).exports},data:function(){return{isadd:!1}},computed:r()({},Object(i.c)({})),methods:r()({},Object(i.b)({}),{isShow:function(){this.isadd=!0,this.$refs.vchild.dialogFormVisible=!0},update:function(t){this.isadd=!1,this.$refs.vchild.dialogFormVisible=!0,this.$refs.vchild.getspecsDetail(t)}}),mounted:function(){}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:this.isShow}},[this._v("添加")]),this._v(" "),e("v-list",{on:{update:this.update}}),this._v(" "),e("v-add",{ref:"vchild",attrs:{update:this.isadd}})],1)},staticRenderFns:[]};var b=s("VU/8")(v,h,!1,function(t){s("UdP/")},"data-v-50e359e2",null);e.default=b.exports}});
//# sourceMappingURL=8.bef8cbc84a3b379d0e71.js.map