webpackJsonp([6],{"01gh":function(t,e){},"1Qpj":function(t,e){},FhBN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),n=i.n(a),r=i("NYxO"),o=i("vLgD"),s=i("wliq"),l={props:[],components:{},data:function(){return{}},computed:n()({},Object(r.c)({bannerList:"bannerList"})),methods:n()({},Object(r.b)({getbannerList:"getbannerList"}),{edit:function(t){this.$emit("update",t)},del:function(t){var e=this;this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.c)(t).then(function(t){200==t.data.code?(Object(s.a)(t.data.msg),e.getbannerList()):Object(s.b)(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}),mounted:function(){this.getbannerList()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.bannerList,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{prop:"id",label:"编号",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"轮播图标题"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){return["null"!=e.row.img?i("img",{attrs:{src:t.$imgurl+e.row.img,alt:""}}):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-button",{attrs:{type:"primary"}},[t._v("启用")]):t._e(),t._v(" "),2==e.row.status?i("el-button",{attrs:{type:"primary"}},[t._v("禁用")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var u=i("VU/8")(l,c,!1,function(t){i("01gh")},"data-v-2de0656e",null).exports,d={props:["update"],components:{},data:function(){return{defaultProps:{children:"children",label:"title"},imgurl:"",dialogFormVisible:!1,form:{title:"",img:"",status:1},formLabelWidth:"120px"}},computed:n()({},Object(r.c)({bannerList:"bannerList"})),methods:n()({},Object(r.b)({getbannerList:"getbannerList"}),{change:function(t){var e=t.raw;this.imgurl=URL.createObjectURL(e),this.form.img=e},cancle:function(){this.dialogFormVisible=!1,this.clearForm()},clearForm:function(){this.form={title:"",img:"",status:1}},addbannerList:function(){var t=this;this.dialogFormVisible=!1,Object(o.b)(this.form).then(function(e){console.log(e),t.getbannerList(),t.clearForm()})},getbannerDetail:function(t){var e=this;Object(o.e)(t).then(function(i){e.form=i.data.list,e.form.id=t,e.imgurl=e.$imgurl+e.form.img})},updatebanner:function(){var t=this;Object(o.d)(this.form).then(function(e){200==e.data.code?(Object(s.a)(e.data.msg),t.dialogFormVisible=!1,t.clearForm(),t.getbannerList()):Object(s.b)(e.data.msg)})}}),mounted:function(){this.getbannerList()}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:1==t.update?"轮播图添加":"轮播图修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"轮播图标题","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"图片","label-width":t.formLabelWidth}},[i("div",{staticClass:"box"},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"on-change":t.change}},[t.imgurl?i("img",{staticClass:"avatar",attrs:{src:t.imgurl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancle}},[t._v("取 消")]),t._v(" "),t.update?i("el-button",{attrs:{type:"primary"},on:{click:t.addbannerList}},[t._v("添加")]):i("el-button",{attrs:{type:"primary"},on:{click:t.updatebanner}},[t._v("修改")])],1)],1)],1)},staticRenderFns:[]};var b={props:[],components:{vList:u,vAdd:i("VU/8")(d,m,!1,function(t){i("jl8I")},"data-v-7bc726fb",null).exports},data:function(){return{isadd:!1}},computed:n()({},Object(r.c)({})),methods:n()({},Object(r.b)({}),{isShow:function(){this.isadd=!0,this.$refs.vchild.dialogFormVisible=!0},update:function(t){this.isadd=!1,this.$refs.vchild.dialogFormVisible=!0,this.$refs.vchild.getbannerDetail(t)}}),mounted:function(){}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:this.isShow}},[this._v("添加")]),this._v(" "),e("v-list",{on:{update:this.update}}),this._v(" "),e("v-add",{ref:"vchild",attrs:{update:this.isadd}})],1)},staticRenderFns:[]};var h=i("VU/8")(b,f,!1,function(t){i("1Qpj")},"data-v-44886c58",null);e.default=h.exports},jl8I:function(t,e){}});
//# sourceMappingURL=6.8ae23d2e2ca5fc94a29d.js.map